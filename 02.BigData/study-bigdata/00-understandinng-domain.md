**Goal**

**파일럿 프로젝트 도메인의 이해**

- 파일럿 프로젝트의 기본 도메인을 이해하고, 이와 관련된 빅데이터 요구사항을 도출 및 분석

2. 빅데이터 파일럿 아키텍처 이해

- 스마트카의 빅데이터 분석을 위한 소프트웨어/하드웨어 아키텍처를 이해한다.

3. 빅데이터 파일럿 프로젝트용 PC환경 구성

- 파일럿 프로젝트 환경을 구성하기 위해 독자들의 pc에서 사용할 기본 소프트웨어를 설치하고 구성한다. 이 과정에서 자바, 이클립스, 오라클 버추얼 박스 설치

4. 빅데이터 파일럿 프로젝트용 PC서버 구성

- 3개의 가상 머신을 생성하고, 분산 클러스터 환경을 구성하기 위한 3개의 리눅스 서버를 설치 및 구성한다.

5. CM(Cloudera Manager) 설치

- 빅데이터 소프트웨어들을 설치/관리하는 Cloudera Manager를 설치한다. CM을 이용해 빅데이터 파일럿 프로젝트의 기본 소프트웨어인 하둡, 주키퍼를 설치

6. 스마트카 로그 시뮬레이터 설치

- 스마트카의 상태 정보와 운행 정보를 시뮬레이션해 로그 데이터를 생성하는 자바 프로그램을 설치

7. 파일럿 환경 관리

- 파일럿 환경을 안전하게 시작하고 종료하는 방법을 설명



## 요구사항

1. 차량의 다양한 장치로부터 발생하는 로그 파일을 수집해서 기능별 상태를 점검한다.

 

| 데이터가 발생하는 위치 | 100대의 시범 운행차량                                        |
| ---------------------- | ------------------------------------------------------------ |
| 발생 데이터의 종류     | 대용량 로그파일                                              |
| 데이터의 발생 주기     | 3초                                                          |
| 데이터의 수집 주기     | 24시간                                                       |
| 데이터 수집 규모       | 1MB/1대(1일 수집 규모: 약 100MB/100대)                       |
| 데이터 타입            | 텍스트(utf-8), 반정형                                        |
| 데이터 분석 주기       | 일/주/월/년                                                  |
| 데이터 처리 유형       | 배치                                                         |
| 데이터 구분자          | 콤마(,)                                                      |
| 데이터 스키마          | 발생일시 / 로그발생일시 / 20151212081530(년월일시초)         |
|                        | 차량번호/차량고유번호/A12345                                 |
|                        | 타이어FL/차량 앞왼쪽 타이어 상태 / 정상: 80~100, 비정상: 80 이하 |
|                        | 타이어FR/차량 앞오른쪽 타이어 상태 / 정상: 80~100, 비정상: 80 이하 |
|                        | 타이어BL/차량 뒤왼쪽 타이어 상태 / 정상: 80~100, 비정상: 80 이하 |
|                        | 타이어BR/차량 뒤오른쪽 타이어 상태 / 정상: 80~100, 비정상: 80 이하 |
|                        | 라이트 FL/ 차량 전면왼쪽 라이트 상태 / 1:정상, 2:비정상      |
|                        | 라이트 FR/ 차량 전면오른쪽 라이트 상태 / 1:정상, 2:비정상    |
|                        | 라이트 BL/ 차량 후면왼쪽 라이트 상태 / 1:정상, 2:비정상      |
|                        | 라이트 BR/ 차량 후면오른쪽 라이트 상태 / 1:정상, 2:비정상    |
|                        | 엔진 /차량 엔진의 상태 / A:정상, B:점검 필요, C:고장         |
|                        | 브레이크/차량 엔진의 상태 / A:정상, B:점검 필요, C:고장      |
|                        | 배터리/차량 배터리 충전 상태 / 1~100                         |
|                        | 작업 요청일/수집 작업 요청일 /20151212(년월일)               |

2. 운전자의 운행 정보가 담긴 로그를 실시간으로 수집해서 주행 패턴을 분석한다.

| 데이터가 발생하는 위치 | 100대의 시범 운행 차량                                 |
| ---------------------- | ------------------------------------------------------ |
| 발생 데이터의 종류     | 실시간 로그 파일                                       |
| 데이터 발생 주기       | 주행 관련 이벤트 발생 시                               |
| 데이터 수집 주기       | 1초                                                    |
| 데이터 수집 규모       | 4KB/1대(초당 수집 규모: 약 400kb/100대)                |
| 데이터 타입            | 텍스트(UTF-8), 반정형                                  |
| 데이터 분석 주기       | 실시간                                                 |
| 데이터 처리유형        | 실시간                                                 |
| 데이터 스키마          | 발생일시/로그발생일시/20151212081530(년월일시초)       |
|                        | 차량번호/차량고유번호/A12345                           |
| 데이터 스키마          | 가속 페달/가속페달이벤트/0~5단계                       |
|                        | 브레이크 페달/브레이크페달이벤트 / 0~3단계             |
|                        | 운전대 회전각 / 운전대 회전 이벤트 / F:직진            |
|                        | 운전대 회전각 / 운전대 회전 이벤트 / L1:좌회전각1~10   |
|                        | 운전대 회전각 / 운전대 회전 이벤트 / L2:좌회전각11~20  |
|                        | 운전대 회전각 / 운전대 회전 이벤트 / L3:좌회전각21~30  |
|                        | 운전대 회전각 / 운전대 회전 이벤트 / R1:우회전각1~10   |
|                        | 운전대 회전각 / 운전대 회전 이벤트 / R2:우회전각11~20  |
|                        | 운전대 회전각 / 운전대 회전 이벤트 / R3:우회전각21~30  |
|                        | 방향지시등/방향지시등이벤트/L R N                      |
|                        | 주행속도/ 차량주행속도/0~250KM                         |
|                        | 주행지역/운전중인 구역번호/A구역:1~10번, B구역:1~10Q번 |
|                        | C구역:1~10번, D구역:1~10Q번                            |
|                        | E구역:1~10번, F구역:1~10Q번                            |
|                        | 작업 요청일/수집 작업 요청일 / 20151212(년월일)        |



![](https://i.imgur.com/d3hk45K.jpg)



데이터넷은 4가지 유형 존재

1. 스마트카 상태 정보 데이터셋
2. 스마트카 운전자 운행 데이터셋
3. 스마트카 마스터 데이터셋
4. 스마트카 물품구매 이력 데이터셋



**소프트웨어 아키텍처**

![](https://i.imgur.com/qKJVFOv.png)



크게 보면 이렇게도 구성 될 수 있다.

![](https://i.imgur.com/odctVAx.png)





*하드웨어 아키텍처의 경우에는 Volume(얼마나 많은 데이터가 발생하는가?), Variety(얼마나 자주 데이터가 발생하는가?), Velocity(얼마나 다양한 데이터가 발생하는가?) 관점에서 구성해야 하며, 이때 서버, 네트워크, 디스크, 랙 등을 3V관점에서 면밀히 검토해서 설계하고 규모를 산정해야 한다.*



플랫폼 구성을 위해서 pc한대에 3개의 가상머신을 구성한 뒤 진행하도록 하겠습니다.

각각의 가상머신은 다음과 같이 설치할 예정입니다.



![](https://i.imgur.com/12zyYdK.png)