# Flume

( … 사용하게 되면 정리하기 ... )



# Kafka

MoM(Message Oriented Middleware) 소프트웨어 중 하나로서 대규모로 발생하는 메시지성 데이터를 비동기 방식으로 중계하는 역할을 한다. 원천 시스템으로부터 대규모 트랜잭션 데이터가 발생했을 때 중간에 데이터를 버퍼링하면서 타킷 시스템에 안정적으로 전송해 주는 중간 시스템이 필요한데, 카프카가 그와 관련된 강략한 기능과 아키텍처를 제공.

카프카는 2011년 처음으로 링크드인에서 개발됨.



- 주요 구성요소

  - Broker - 카프카의 서비스 인스턴스로서, 다수의 Broker를 클러스터로 구성하고 Topic이 생성되는 물리적 서버
  - Topic - Broker에서 데이터의 발행/소비 처리를 위한 저장소

  ---

- Provider - Broker의 특정 Topic에 데이터를 전송(발행)하는 역할로서 애플리케이션에서 카프카 라이브러리를 이용해 구현

- Consumer - Broker의 특정 Topic에서 데이터를 수신(소비)하는 역할로서 애플리케이션에서 카프카 라이브러리를 이용해 구현



### 카프카 아키텍처

클러스터 방식에 따라 세 가지 아키텍처 구성이 가능하며, 이때 주키퍼를 반드시 이용해야 함.

1. 
   ![](https://ws1.sinaimg.cn/large/006tNc79gy1g207mhebtej30m10att9f.jpg)

2. 
   ![](https://ws2.sinaimg.cn/large/006tNc79gy1g207p2ek5oj30m10df756.jpg)
3. ![](https://ws2.sinaimg.cn/large/006tNc79gy1g207tzd6lyj30rj0i5myk.jpg)





### 카프카 활용 방안

LogStash이 실시간 데이터를 수집해 카프카 토픽에 전송하면 카프카는 전송받은 데이터를 토픽에 임시로 저장하고 있다가 컨슈머 프로그램이 작동해 토픽에서 데이터를 가져간다.

카프카를 쓰는 주된 목적은 아주 빠르게 발생하는 데이터를 실시간으로 수집하게 되면 이를 최종 목적지에 전달하기 전 중간에서 안정적인 버퍼링 처리가 필요하기 때문이다.

